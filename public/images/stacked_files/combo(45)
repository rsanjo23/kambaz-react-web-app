YUI.add("hermes-template-pending-gift-modal",(function(t,e){var n=t.Template.Handlebars.revive({1:function(t,e,n,l,a){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<div class="buttons">\n\t\t<button class="butt flex pending-gift-button view-gifts-button">'+t.escapeExpression((o(n,"intlMessage")||e&&o(e,"intlMessage")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"intlMessage",hash:{intlName:"gift-pro.VIEW_PRO_GIFTS"},data:a,loc:{start:{line:16,column:66},end:{line:16,column:116}}}))+"</button>\n\t</div>\n"},3:function(t,e,n,l,a){var o=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,i=t.escapeExpression,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<div class="buttons">\n\t\t<button class="butt flex pending-gift-button activate-button">'+i((r(n,"intlMessage")||e&&r(e,"intlMessage")||s).call(o,{name:"intlMessage",hash:{intlName:"gift-pro.ACTIVATE_PRO_GIFT"},data:a,loc:{start:{line:11,column:64},end:{line:11,column:117}}}))+'</button>\n\t\t<button class="butt flex hollow pending-gift-button decline-button">'+i((r(n,"intlMessage")||e&&r(e,"intlMessage")||s).call(o,{name:"intlMessage",hash:{intlName:"gift-pro.DECLINE"},data:a,loc:{start:{line:12,column:70},end:{line:12,column:113}}}))+"</button>\n\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var o,s,i=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>"+c(typeof(s=null!=(s=p(n,"modalTitle")||(null!=e?p(e,"modalTitle"):e))?s:r)===u?s.call(i,{name:"modalTitle",hash:{},data:a,loc:{start:{line:1,column:4},end:{line:1,column:18}}}):s)+'</h2>\n\n<div class="gifted-pro-container">\n\t<img class="gifted-pro" src="'+c(typeof(s=null!=(s=p(n,"assetRoot")||(null!=e?p(e,"assetRoot"):e))?s:r)===u?s.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:4,column:30},end:{line:4,column:43}}}):s)+'/images/pro/gifted-pro.png" srcset="'+c(typeof(s=null!=(s=p(n,"assetRoot")||(null!=e?p(e,"assetRoot"):e))?s:r)===u?s.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:4,column:79},end:{line:4,column:92}}}):s)+"/images/pro/gifted-pro.png 1x, "+c(typeof(s=null!=(s=p(n,"assetRoot")||(null!=e?p(e,"assetRoot"):e))?s:r)===u?s.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:4,column:123},end:{line:4,column:136}}}):s)+'/images/pro/gifted-pro@2x.png 2x"/>\n</div>\n\n<p>'+c(typeof(s=null!=(s=p(n,"modalText")||(null!=e?p(e,"modalText"):e))?s:r)===u?s.call(i,{name:"modalText",hash:{},data:a,loc:{start:{line:7,column:3},end:{line:7,column:16}}}):s)+"</p>\n\n"+(null!=(o=p(n,"if").call(i,null!=e?p(e,"hasMultiple"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a,loc:{start:{line:9,column:0},end:{line:18,column:7}}}))?o:"")+'\n<p class="error-text">'+c((p(n,"intlMessage")||e&&p(e,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"errors.ERROR_HAS_OCCURRED"},data:a,loc:{start:{line:20,column:22},end:{line:20,column:74}}}))+"</p>\n"},useData:!0}),l={};t.Array.each([],(function(e){var n=t.Template.get("hermes/"+e);n&&(l[e]=n)})),t.Template.register("hermes/pending-gift-modal",(function(e,a){return(a=a||{}).partials=a.partials?t.merge(l,a.partials):l,n(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-upload-limit-message",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,t,a){var r,o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<a role="button" class="secondary-action">'+n.escapeExpression("function"==typeof(r=null!=(r=o(l,"secondaryActionText")||(null!=e?o(e,"secondaryActionText"):e))?r:n.hooks.helperMissing)?r.call(null!=e?e:n.nullContext||{},{name:"secondaryActionText",hash:{},data:a,loc:{start:{line:9,column:75},end:{line:9,column:98}}}):r)+"</a>"},3:function(n,e,l,t,a){var r,o=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,i="function",u=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<a class="primary-action" href="'+u(typeof(r=null!=(r=c(l,"upgradeToProUrl")||(null!=e?c(e,"upgradeToProUrl"):e))?r:s)===i?r.call(o,{name:"upgradeToProUrl",hash:{},data:a,loc:{start:{line:10,column:62},end:{line:10,column:81}}}):r)+'">'+u(typeof(r=null!=(r=c(l,"primaryActionText")||(null!=e?c(e,"primaryActionText"):e))?r:s)===i?r.call(o,{name:"primaryActionText",hash:{},data:a,loc:{start:{line:10,column:83},end:{line:10,column:104}}}):r)+"</a>"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,a){var r,o,s=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,u=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="default-toast-message">\n\t<header>\n\t\t<h1>'+u("function"==typeof(o=null!=(o=c(l,"title")||(null!=e?c(e,"title"):e))?o:i)?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:3,column:6},end:{line:3,column:15}}}):o)+'</h1>\n\t</header>\n\t<p class="description">\n\t\t'+u((c(l,"renderTrustedMarkup")||e&&c(e,"renderTrustedMarkup")||i).call(s,null!=e?c(e,"description"):e,{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:6,column:2},end:{line:6,column:37}}}))+'\n\t</p>\n\t<div class="action-container">\n\t\t'+(null!=(r=c(l,"unless").call(s,null!=e?c(e,"hideSecondaryButton"):e,{name:"unless",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:9,column:2},end:{line:9,column:113}}}))?r:"")+"\n\t\t"+(null!=(r=c(l,"unless").call(s,null!=e?c(e,"hideActionButton"):e,{name:"unless",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:10,column:2},end:{line:10,column:119}}}))?r:"")+"\n\t</div>\n</div>\n"},useData:!0}),t={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(t[e]=l)})),n.Template.register("hermes/upload-limit-message",(function(e,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,l(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-print-order-confirmation",(function(n,t){var e=n.Template.Handlebars.revive({1:function(n,t,e,l,a){var s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t \t<p class="order-num-line">\n\t\t \t\t'+n.escapeExpression((s(e,"intlHTMLMessage")||t&&s(t,"intlHTMLMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlHTMLMessage",hash:{orderUrl:null!=t?s(t,"orderUrl"):t,orderNum:null!=t?s(t,"orderNum"):t,intlName:"prints.YOUR_ORDER_NUMBER_IS"},data:a,loc:{start:{line:12,column:5},end:{line:12,column:99}}}))+"\n\t\t \t</p>\n"},3:function(n,t,e,l,a){var s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t \t<p class="order-email-line">\n\t\t \t\t'+n.escapeExpression((s(e,"intlHTMLMessage")||t&&s(t,"intlHTMLMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlHTMLMessage",hash:{email:null!=t?s(t,"email"):t,intlName:"prints.YOULL_RECEIVE_ORDER_EMAIL"},data:a,loc:{start:{line:17,column:5},end:{line:17,column:80}}}))+"\n\t\t \t</p>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,e,l,a){var s,o,i=null!=t?t:n.nullContext||{},r=n.hooks.helperMissing,c="function",m=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="print-order-confirmation-container">\n\t<img class="confirmation-image"\n\t\tsrc="'+m(typeof(o=null!=(o=u(e,"assetRoot")||(null!=t?u(t,"assetRoot"):t))?o:r)===c?o.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:3,column:7},end:{line:3,column:20}}}):o)+'/images/checkmark.png"\n\t\tsrcset="'+m(typeof(o=null!=(o=u(e,"assetRoot")||(null!=t?u(t,"assetRoot"):t))?o:r)===c?o.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:4,column:10},end:{line:4,column:23}}}):o)+"/images/checkmark.png 1x, "+m(typeof(o=null!=(o=u(e,"assetRoot")||(null!=t?u(t,"assetRoot"):t))?o:r)===c?o.call(i,{name:"assetRoot",hash:{},data:a,loc:{start:{line:4,column:49},end:{line:4,column:62}}}):o)+'/images/checkmark@2x.png 2x" />\n\n \t<h2 class="confirmation-title">\n \t\t'+m((u(e,"intlMessage")||t&&u(t,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"prints.THANKS_FOR_YOUR_ORDER"},data:a,loc:{start:{line:7,column:3},end:{line:7,column:58}}}))+'\n \t</h2>\n \t<div class="confirmation-details">\n'+(null!=(s=u(e,"if").call(i,null!=t?u(t,"orderUrl"):t,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:10,column:3},end:{line:14,column:10}}}))?s:"")+(null!=(s=u(e,"if").call(i,null!=t?u(t,"email"):t,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:15,column:3},end:{line:19,column:10}}}))?s:"")+'\t \t<p class="questions-line">\n\t \t\t'+m((u(e,"intlHTMLMessage")||t&&u(t,"intlHTMLMessage")||r).call(i,{name:"intlHTMLMessage",hash:{helpUrl:null!=t?u(t,"helpUrl"):t,intlName:"prints.HAVE_QUESTIONS_LINE"},data:a,loc:{start:{line:21,column:4},end:{line:21,column:77}}}))+'\n\t \t</p>\n\n\t \t<p class="feedback-line">\n\t \t\t'+m((u(e,"intlHTMLMessage")||t&&u(t,"intlHTMLMessage")||r).call(i,{name:"intlHTMLMessage",hash:{feedbackUrl:null!=t?u(t,"feedbackUrl"):t,intlName:"prints.WE_WELCOME_FEEDBACK_HERE"},data:a,loc:{start:{line:25,column:4},end:{line:25,column:90}}}))+'\n\t \t</p>\n\t </div>\n \t<div class="confirmation-button-container">\n \t\t<button class="button accept-button">\n \t\t\t'+m((u(e,"intlMessage")||t&&u(t,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"common.OK"},data:a,loc:{start:{line:30,column:4},end:{line:30,column:40}}}))+"\n \t\t</button>\n \t</div>\n </div>\n"},useData:!0}),l={};n.Array.each([],(function(t){var e=n.Template.get("hermes/"+t);e&&(l[t]=e)})),n.Template.register("hermes/print-order-confirmation",(function(t,a){return(a=a||{}).partials=a.partials?n.merge(l,a.partials):l,e(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-intro-to-prints",(function(e,n){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,r=e.escapeExpression,o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="intro-to-prints-container">\n    <div class="main-content-container">\n        <div class="prints-img"></div>\n        <p class="title">'+r((o(t,"preventOrphans")||n&&o(n,"preventOrphans")||i).call(l,(o(t,"intlMessage")||n&&o(n,"intlMessage")||i).call(l,{name:"intlMessage",hash:{intlName:"prints.GET_PRINTS_WALL_ART_TITLE"},data:s,loc:{start:{line:4,column:42},end:{line:4,column:99}}}),{name:"preventOrphans",hash:{},data:s,loc:{start:{line:4,column:25},end:{line:4,column:101}}}))+'</p>\n        <p class="body-text">'+r((o(t,"intlMessage")||n&&o(n,"intlMessage")||i).call(l,{name:"intlMessage",hash:{intlName:"prints.GET_PRINTS_WALL_ART_DESCRIPTION"},data:s,loc:{start:{line:5,column:29},end:{line:5,column:94}}}))+'</p>\n        <button type="button" class="button accept-button">'+r((o(t,"intlMessage")||n&&o(n,"intlMessage")||i).call(l,{name:"intlMessage",hash:{intlName:"prints.SELECT_FROM_YOUR_PHOTOS"},data:s,loc:{start:{line:6,column:59},end:{line:6,column:116}}}))+'</button>\n    </div>\n    <div class="sub-note-container">\n        <span class="photo-attribution">'+r((o(t,"intlMessage")||n&&o(n,"intlMessage")||i).call(l,{name:"intlMessage",hash:{intlName:"common.PHOTOS_BY"},data:s,loc:{start:{line:9,column:40},end:{line:9,column:83}}}))+' <a href="/photos/lochthyme/16899518284/" target="_blank">Andrea Koerner</a>, <a href="/photos/lukestandridge/13150574814/" target="_blank">Luke Standridge</a>, and <a href="/photos/on1stsite/4673084428/" target="_blank">Marja van Bochove</a>; CC BY</span>\n    </div>\n</div>\n'},useData:!0}),a={};e.Array.each([],(function(n){var t=e.Template.get("hermes/"+n);t&&(a[n]=t)})),e.Template.register("hermes/intro-to-prints",(function(n,s){return(s=s||{}).partials=s.partials?e.merge(a,s.partials):a,t(n,s)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-pro-hello-pro",(function(e,n){var l=e.Template.Handlebars.revive({1:function(e,n,l,a,t){var s=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,r=e.escapeExpression,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="will-start-later">\n\t<p>'+r((i(l,"intlHTMLMessage")||n&&i(n,"intlHTMLMessage")||o).call(s,{name:"intlHTMLMessage",hash:{date:null!=n?i(n,"date"):n,price:null!=n?i(n,"price"):n,planName:null!=n?i(n,"planName"):n,intlName:"account-settings.HAPPY_YOURE_HERE_START"},data:t,loc:{start:{line:5,column:4},end:{line:5,column:114}}}))+"</p>\n\t<p>"+r((i(l,"intlMessage")||n&&i(n,"intlMessage")||o).call(s,{name:"intlMessage",hash:{intlName:"account-settings.KEEP_ENJOYING_SUPERPOWERS"},data:t,loc:{start:{line:6,column:4},end:{line:6,column:73}}}))+"</p>\n</div>\n"},3:function(e,n,l,a,t){var s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"\t<p>"+e.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},{name:"intlMessage",hash:{intlName:"checkout.GET_STARTED_WITH_SUPERPOWERS"},data:t,loc:{start:{line:9,column:4},end:{line:9,column:68}}}))+"</p>\n"},5:function(e,n,l,a,t){var s,o=null!=n?n:e.nullContext||{},r=e.hooks.helperMissing,i=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t<li class="stats"><span></span><a href="'+i("function"==typeof(s=null!=(s=c(l,"statsURL")||(null!=n?c(n,"statsURL"):n))?s:r)?s.call(o,{name:"statsURL",hash:{},data:t,loc:{start:{line:17,column:42},end:{line:17,column:54}}}):s)+'">'+i((c(l,"intlMessage")||n&&c(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"account-settings.VIEW_PHOTOS_STATS"},data:t,loc:{start:{line:17,column:56},end:{line:17,column:117}}}))+"</a></li>\n"},7:function(e,n,l,a,t){var s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t<li class="partners"><span></span><a href="/account">'+e.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},{name:"intlMessage",hash:{intlName:"checkout.VIEW_PARTNER_PERKS"},data:t,loc:{start:{line:19,column:55},end:{line:19,column:109}}}))+"</a></li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,l,a,t){var s,o,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c=e.escapeExpression,u="function",p=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<h1>"+c((p(l,"intlMessage")||n&&p(n,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"checkout.HELLO_PRO"},data:t,loc:{start:{line:1,column:4},end:{line:1,column:49}}}))+"</h1>\n\n"+(null!=(s=p(l,"if").call(r,null!=n?p(n,"willStartLater"):n,{name:"if",hash:{},fn:e.program(1,t,0),inverse:e.program(3,t,0),data:t,loc:{start:{line:3,column:0},end:{line:10,column:7}}}))?s:"")+'\n\n<ul>\n\t<li class="freebrowsing"><span></span><a href="/">'+c((p(l,"intlMessage")||n&&p(n,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"checkout.BROWSE_AD_FREE"},data:t,loc:{start:{line:14,column:51},end:{line:14,column:101}}}))+'</a></li>\n\t<li class="auto-uploadr"><span></span><a href="/tools">'+c((p(l,"intlMessage")||n&&p(n,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"checkout.GET_AUTO_UPLOADR"},data:t,loc:{start:{line:15,column:56},end:{line:15,column:108}}}))+"</a></li>\n"+(null!=(s=p(l,"if").call(r,null!=n?p(n,"willStartLater"):n,{name:"if",hash:{},fn:e.program(5,t,0),inverse:e.program(7,t,0),data:t,loc:{start:{line:16,column:1},end:{line:20,column:8}}}))?s:"")+"</ul>\n<p>"+c((p(l,"intlMessage")||n&&p(n,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"checkout.SHARE_YOUR_NEW_ADFREE_PHOTOSTREAM"},data:t,loc:{start:{line:22,column:3},end:{line:22,column:72}}}))+'</p>\n<p><a href="'+c(typeof(o=null!=(o=p(l,"photostreamURL")||(null!=n?p(n,"photostreamURL"):n))?o:i)===u?o.call(r,{name:"photostreamURL",hash:{},data:t,loc:{start:{line:23,column:12},end:{line:23,column:30}}}):o)+'">'+c(typeof(o=null!=(o=p(l,"photostreamURL")||(null!=n?p(n,"photostreamURL"):n))?o:i)===u?o.call(r,{name:"photostreamURL",hash:{},data:t,loc:{start:{line:23,column:32},end:{line:23,column:50}}}):o)+"</a></p>\n"},useData:!0}),a={};e.Array.each([],(function(n){var l=e.Template.get("hermes/"+n);l&&(a[n]=l)})),e.Template.register("hermes/pro-hello-pro",(function(n,t){return(t=t||{}).partials=t.partials?e.merge(a,t.partials):a,l(n,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("search-url",(function(e,r){var t,s=require("hermes-core/flog")(r),a=/^\/search(?:\/.*)?$/,h=/^bw|blackandwhite$/;function o(e){return"number"==typeof e?e.toString():"boolean"==typeof e?e?"1":"0":"string"==typeof e?e:void 0}(t=function(r,a,h){var i,p,c,n,l;if(this.appContext=a,"string"==typeof r){if(l=r.split("?"),h?this.searchType=h:(c=-1!==(p=l[0].split("/"))[0].indexOf("http")?3:1,n="/"+p.slice(c).join("/"),this.searchType=this.getSearchTypeFromPathname(n)),l=l.length>1?l[1]:"",this.params={},l)try{l=e.QueryString.parse(l),this.params=e.SearchHelper.mapClassicSearchToAPI(l,a)}catch(e){s.warn("malformed query",{err:e,query:l})}}else this.params=e.merge(r),this.searchType=h;for(i in this.params)this.params.hasOwnProperty(i)&&(this.params[i]=o(this.params[i]));this.params.color_codes&&(this.colors=this.params.color_codes.toString().split(",")),this.searchType||this.setSearchType(t.searchTypes.UNDEFINED)}).prototype.setSearchType=function(r){var t=this.getSearchTerm();return this.searchType=r,this.params=this.validateParams(this.params,this.searchType),this.params=e.merge(this.getDefaultParams(this.searchType),this.params),t&&this.setSearchTerm(t),this},t.prototype.getSearchTypeFromPathname=function(e){switch(e=(e=(e=e||this.pathname).toLowerCase()).split("/").join("")){case"searchpeople":return t.searchTypes.PEOPLE;case"searchgroups":return t.searchTypes.GROUPS;default:return t.searchTypes.PHOTOS}},t.prototype.getPathname=function(){var e="/search/";switch(this.searchType){case t.searchTypes.PEOPLE:e+="people/";break;case t.searchTypes.GROUPS:e+="groups/";break;case t.searchTypes.CLASSIC_GROUPS:e="/search_groups.gne";case t.searchTypes.PHOTOS:}return e},t.prototype.validateParams=function(r,s){var a,h,o,i={};switch(r=e.merge(r),s){case t.searchTypes.PEOPLE:(a=e.merge(e.SearchHelper.PEOPLE_SEARCH_API)).text="text";break;case t.searchTypes.GROUPS:a=e.merge(e.SearchHelper.GROUPS_SEARCH_API);break;case t.searchTypes.PHOTOS:a=e.merge(e.SearchHelper.API,e.SearchHelper.UNIFIED_STATE_PARAMS);break;case t.searchTypes.UNDEFINED:default:return r}if(a)for(h in a)void 0!==r[o=a[h]]&&(i[o]=r[o]);return i},t.prototype.getDefaultParams=function(r){var s={};switch(r){case t.searchTypes.PEOPLE:e.SearchHelper.addPeopleParamDefaults(s);break;case t.searchTypes.GROUPS:e.SearchHelper.addGroupsParamDefaults(s);break;case t.searchTypes.PHOTOS:e.SearchHelper.addParamDefaults(s);case t.searchTypes.UNDEFINED:}return s},t.prototype.getAPIParams=function(){return e.merge(this.params)},t.prototype.getAPIParam=function(e){return this.params[e]},t.prototype.setAPIParam=function(e,r){return this.params[e]=o(r),this},t.prototype.removeAPIParam=function(e){return delete this.params[e],this},t.prototype.removeAllAPIParams=function(){return this.params={},this},t.prototype.getSearchTerm=function(){var r=this.params[this.getSearchTermKey(this.searchType)];return r||(r=this.params[e.SearchHelper.API.tags]),r||""},t.prototype.setSearchTerm=function(r){var t=this.getSearchTermKey(this.searchType);return delete this.params[e.SearchHelper.PEOPLE_SEARCH_API.username],delete this.params[e.SearchHelper.GROUPS_SEARCH_API.text],delete this.params[e.SearchHelper.API.text],delete this.params[e.SearchHelper.API.tags],delete this.params.q,this.params[t]=r,this},t.prototype.getSearchTermKey=function(r){switch(r){case t.searchTypes.PEOPLE:return e.SearchHelper.PEOPLE_SEARCH_API.username;case t.searchTypes.GROUPS:return e.SearchHelper.GROUPS_SEARCH_API.text;case t.searchTypes.PHOTOS:default:return this.params[e.SearchHelper.API.tags]||""===this.params[e.SearchHelper.API.tags]?e.SearchHelper.API.tags:e.SearchHelper.API.text}},t.prototype.removeScope=function(){return e.SearchHelper.SEARCH_SCOPE_PARAMS.forEach(function(e){this.removeAPIParam(e)}.bind(this)),this.removeAPIParam(e.SearchHelper.API.excludeUserId),this},t.prototype.resetToUnified=function(){return this.params[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]&&(this.removeAPIParam(e.SearchHelper.API.userId),this.removeAPIParam(e.SearchHelper.API.contacts),this.removeAPIParam(e.SearchHelper.API.groupId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.albums)),this.removeAPIParam(e.SearchHelper.API.similarityId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll),this},t.prototype.hasAdvancedParams=function(r){return Object.keys(this.params).some((function(t){return-1!==e.SearchHelper.UNIFIED_ADVANCED_PARAMS.indexOf(t)||!r&&-1!==e.SearchHelper.UNIFIED_QUICK_FILTER_PARAMS.indexOf(t)||!r&&-1!==e.SearchHelper.UNIFIED_TOOLBAR_PARAMS.indexOf(t)}))},t.prototype.createNewSearch=function(e){return this.setSearchTerm(e),this.removeScope(),this.searchType!==t.searchTypes.UNDEFINED&&this.searchType!==t.searchTypes.PHOTOS||this.resetToUnified(),this},t.prototype.getURL=function(){var e=this.getId(),r=this.getPathname();return e===t.EMPTY_SEARCH_ID?r:r+"?"+e},t.prototype.getId=function(){var r,s={},a=e.SearchHelper.API;for(r in this.params)Object.getPrototypeOf(s).hasOwnProperty(r)||(a[r]?s[a[r]]=this.params[r]:s[r]=this.params[r]);return e.QueryString.stringify(s)||t.EMPTY_SEARCH_ID},t.prototype.clone=function(){return new t(this.params,this.appContext,this.searchType)},t.prototype.setMedia=function(r,t){var s;r||(r=!1),t||(t=!1),s=r&&t?"all":r?"photos":"videos",this.setAPIParam(e.SearchHelper.API.mediaType,s)},t.prototype._syncColors=function(){this.colors&&this.colors.length>0?this.params.color_codes=this.colors.join(","):this.removeAPIParam("color_codes")},t.prototype.addColorCode=function(e){if(e&&e.match(h))return this.clearColorCodes(),this.colors=["bw"],void this._syncColors();this.colors&&-1!==this.colors.indexOf("bw")&&(this.colors=[]),this.colors||(this.colors=[]),-1===this.colors.indexOf(e)&&(this.colors.push(e),this._syncColors())},t.prototype.removeColorCode=function(e){var r;this.colors&&-1!==(r=this.colors.indexOf(e))&&(this.colors.splice(r,1),this._syncColors())},t.prototype.clearColorCodes=function(){this.colors=[],this._syncColors()},t.isSearchUrl=function(e){return a.test(e)},t.prototype.hasSameParams=function(e){if(Object.keys(this.params).length!==Object.keys(e.params).length)return!1;for(let r in this.params)if(!(r in e.params)||e.params[r]!==this.params[r])return!1;return!0},t.searchTypes={UNDEFINED:0,PHOTOS:1,PEOPLE:2,GROUPS:3,CLASSIC_GROUPS:4},t.EMPTY_SEARCH_ID="-1",e.SearchUrl=t}),"@VERSION@",{requires:["search-helper","querystring-parse-simple","querystring-stringify-simple"],optionalRequires:["hermes-core"]});YUI.add("hermes-template-search-pill",(function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,a,t){var o,r,s=null!=n?n:l.nullContext||{},i=l.hooks.helperMissing,c="function",u=l.escapeExpression,m=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<li class="search-pill" '+(null!=(o=m(e,"if").call(s,null!=n?m(n,"id"):n,{name:"if",hash:{},fn:l.program(2,t,0),inverse:l.noop,data:t,loc:{start:{line:2,column:24},end:{line:2,column:50}}}))?o:"")+' title="'+u(typeof(r=null!=(r=m(e,"name")||(null!=n?m(n,"name"):n))?r:i)===c?r.call(s,{name:"name",hash:{},data:t,loc:{start:{line:2,column:58},end:{line:2,column:66}}}):r)+'">\n\t<span class="search-pill-name">'+u(typeof(r=null!=(r=m(e,"name")||(null!=n?m(n,"name"):n))?r:i)===c?r.call(s,{name:"name",hash:{},data:t,loc:{start:{line:3,column:32},end:{line:3,column:40}}}):r)+'</span>\n\t<div class="search-pill-divider"></div>\n\t<span class="search-pill-second-name" title="'+u(typeof(r=null!=(r=m(e,"secondName")||(null!=n?m(n,"secondName"):n))?r:i)===c?r.call(s,{name:"secondName",hash:{},data:t,loc:{start:{line:5,column:46},end:{line:5,column:60}}}):r)+'">'+u(typeof(r=null!=(r=m(e,"secondName")||(null!=n?m(n,"secondName"):n))?r:i)===c?r.call(s,{name:"secondName",hash:{},data:t,loc:{start:{line:5,column:62},end:{line:5,column:76}}}):r)+'</span>\n\t<i class="search-pill-remover"></i>\n</li>\n'},2:function(l,n,e,a,t){var o,r=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"id="+l.escapeExpression("function"==typeof(o=null!=(o=r(e,"id")||(null!=n?r(n,"id"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"id",hash:{},data:t,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):o)},4:function(l,n,e,a,t){var o,r,s=null!=n?n:l.nullContext||{},i=l.hooks.helperMissing,c="function",u=l.escapeExpression,m=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<li class="search-pill" '+(null!=(o=m(e,"if").call(s,null!=n?m(n,"id"):n,{name:"if",hash:{},fn:l.program(2,t,0),inverse:l.noop,data:t,loc:{start:{line:9,column:24},end:{line:9,column:50}}}))?o:"")+' title="'+u(typeof(r=null!=(r=m(e,"name")||(null!=n?m(n,"name"):n))?r:i)===c?r.call(s,{name:"name",hash:{},data:t,loc:{start:{line:9,column:58},end:{line:9,column:66}}}):r)+'"><span class="search-pill-name">'+u(typeof(r=null!=(r=m(e,"name")||(null!=n?m(n,"name"):n))?r:i)===c?r.call(s,{name:"name",hash:{},data:t,loc:{start:{line:9,column:99},end:{line:9,column:107}}}):r)+'</span><i class="search-pill-remover"></i></li>\n'},compiler:[8,">= 4.3.0"],main:function(l,n,e,a,t){var o,r=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(o=r(e,"if").call(null!=n?n:l.nullContext||{},null!=n?r(n,"combo"):n,{name:"if",hash:{},fn:l.program(1,t,0),inverse:l.program(4,t,0),data:t,loc:{start:{line:1,column:0},end:{line:10,column:7}}}))?o:""},useData:!0}),a={};l.Array.each([],(function(n){var e=l.Template.get("hermes/"+n);e&&(a[n]=e)})),l.Template.register("hermes/search-pill",(function(n,t){return(t=t||{}).partials=t.partials?l.merge(a,t.partials):a,e(n,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});